<idea-plugin>
	<id>se.fortnox.jbehavesinglescenario.jbehavesinglescenario</id>
	<name>JBehave Debug Single Scenario</name>
	<vendor email="jonas.hall@fortnox.se" url="http://www.fortnox.se">Fortnox</vendor>

	<description>Right click in a scenario of a .story file to run or debug it.</description>

	<extensions defaultExtensionNs="com.intellij">
		<runLineMarkerContributor
				language="Story"
				implementationClass="se.fortnox.intellij.jbehave.SingleScenarioRunLineMarkerProvider"
		/>
		<toolWindow id="JBehave" secondary="false" icon="AllIcons.Modules.TestResourcesRoot" anchor="bottom"
					factoryClass="se.fortnox.intellij.jbehave.ui.storyexplorer.StoryExplorerToolWindowFactory"/>
	</extensions>

	<actions>
		<group id="DebugSingleScenarioGroup" text="Debug This Scenario" description="Debug single scenario">
			<add-to-group group-id="EditorPopupMenu" anchor="last" />
			<action
				id="RunSingleScenarioAction"
				class="se.fortnox.intellij.jbehave.RunSingleScenarioAction"
				text="Run This Scenario"
				icon="AllIcons.Actions.Execute"
				description="Run single scenario"
			/>
			<action
				id="DebugSingleScenarioAction"
				class="se.fortnox.intellij.jbehave.DebugSingleScenarioAction"
				text="Debug This Scenario"
				icon="AllIcons.Actions.StartDebugger"
				description="Debug single scenario"
			/>
		</group>

		<group id="StoryExplorerActionGroup">
			<action
					id="RefreshStoryTreeAction"
					class="se.fortnox.intellij.jbehave.ui.storyexplorer.actions.RefreshStoryTreeAction"
					text="Refresh"
					icon="AllIcons.Actions.Refresh"
					description="Refresh the story explorer"
			/>
			<separator />
			<action
					id="RunSelectedNodeAction"
					class="se.fortnox.intellij.jbehave.ui.storyexplorer.actions.RunSelectedNodeAction"
					text="Run Selection"
					icon="AllIcons.Actions.Execute"
					description="Run the selected item"
			/>
			<action
					id="DebugSelectedNodeAction"
					class="se.fortnox.intellij.jbehave.ui.storyexplorer.actions.DebugSelectedNodeAction"
					text="Debug Selection"
					icon="AllIcons.Actions.StartDebugger"
					description="Debug the selected item"
			/>
			<separator />
			<action
					id="ExpandAllNodesAction"
					class="se.fortnox.intellij.jbehave.ui.storyexplorer.actions.ExpandAllNodesAction"
					text="Expand All"
					icon="AllIcons.Actions.Expandall"
					use-shortcut-of="ExpandAll"
			/>
			<action
					id="CollapseAllNodesAction"
					class="se.fortnox.intellij.jbehave.ui.storyexplorer.actions.CollapseAllNodesAction"
					text="Collapse All"
					icon="AllIcons.Actions.Collapseall"
					use-shortcut-of="CollapseAll"
			/>
		</group>
	</actions>

	<depends>JUnit</depends>
	<depends>com.intellij.modules.java</depends>
	<depends optional="true" config-file="">jbehave-support-plugin</depends>

	<idea-version since-build="203" />
</idea-plugin>
